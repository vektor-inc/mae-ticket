"use strict";!function(t){var e=t.getElementById("maetic_form");if(e){var n=[];Array.prototype.forEach.call(["number-1","number-2","number-3","number-4"],function(e){return n.push(t.getElementById(e))});for(var r=0;r<n.length;r++){if(!n[r])return;n[r].setAttribute("digit",r),n[r].setAttribute("min",0),n[r].setAttribute("max",Math.pow(10,4)-1),n[r].setAttribute("required","required"),n[r].addEventListener("keyup",function(e){var t,r=e.target,a=Number(r.getAttribute("digit"));48<=e.keyCode&&e.keyCode<=57&&(t=r,Number.isInteger(Number(t.value))&&4==t.value.length?(t.classList.add("ok"),t.classList.remove("error")):(t.classList.remove("ok"),t.classList.add("error")),4==r.value.length&&a<n.length-1&&(n[a+1].focus(),n[a+1].select())),37==e.keyCode&&0!=a&&n[a-1].focus(),39==e.keyCode&&a<n.length-1&&n[a+1].focus()}),n[r].addEventListener("keydown",function(e){var t=e.target,r=Number(t.getAttribute("digit"));48<=e.keyCode&&e.keyCode<=57&&4==t.value.length&&e.preventDefault(),[189,69,190,229].includes(e.keyCode)&&e.preventDefault(),8==e.keyCode&&0==t.value.length&&0<r&&(t.value="",t.classList.remove("ok","error"),n[r-1].focus())}),n[r].addEventListener("focus",function(e){""!=e.target.value&&e.target.select()}),e.addEventListener("reset",function(e){Array.prototype.forEach.call(n,function(e){e.classList.remove("ok","error")}),n[0].select(),n[0].focus()},!1),window.addEventListener("DOMContentLoaded",function(){n[0].select(),n[0].focus()},!1)}}}(document),function(t){window.addEventListener("load",function(){var e=t.getElementById("maetic_code_page");e&&Array.prototype.forEach.call(e.getElementsByClassName("ticket"),function(e){var t=e.getElementsByClassName("_number");if(t){t=t[0];for(var r=null,a=null,n=function(){t.value>=t.max?(t.value=t.max,r.setAttribute("disabled","disabled"),r.classList.add("disabled")):(r.removeAttribute("disabled"),r.classList.remove("disabled")),t.value<=t.min?(t.value=t.min,a.setAttribute("disabled","disabled"),a.classList.add("disabled")):(a.removeAttribute("disabled"),a.classList.remove("disabled"))},s=e.getElementsByClassName("_control"),i=0;i<s.length;i++){var l=s[i].getAttribute("role");"plus"==l&&(r=s[i]),"minas"==l&&(a=s[i])}r&&r.addEventListener("click",function(e){e.preventDefault(),t.value=Number(t.value)+1,n()},!1),a&&a.addEventListener("click",function(e){e.preventDefault(),t.value=Number(t.value)-1,n()},!1),t.addEventListener("change",n,!1),n()}})},!1)}(document);